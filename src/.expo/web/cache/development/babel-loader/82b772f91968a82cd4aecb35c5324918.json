{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\autum\\\\OneDrive\\\\Documents\\\\Amazon\\\\citizenwatch\\\\src\\\\screens\\\\Home.tsx\";\nimport React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\nimport { Auth } from 'aws-amplify';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\n\nfunction Copyright() {\n  return React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }, 'Copyright © ', React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"NZ Interns AWS\"), ' ', new Date().getFullYear(), '.');\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    icon: {\n      marginRight: theme.spacing(2)\n    },\n    heroContent: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(8, 0, 6),\n      flexGrow: 1\n    },\n    heroButtons: {\n      marginTop: theme.spacing(4)\n    },\n    cardGrid: {\n      paddingTop: theme.spacing(8),\n      paddingBottom: theme.spacing(8)\n    },\n    card: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    cardMedia: {\n      paddingTop: '56.25%'\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    footer: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(6)\n    },\n    title: {\n      flexGrow: 1\n    },\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    }\n  };\n});\nexport default function Home(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n  var classes = useStyles();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      incidents = _React$useState2[0],\n      setIncidents = _React$useState2[1];\n\n  var axios = require(\"axios\");\n\n  var apiMethodGet = function apiMethodGet() {\n    if (!incidents || incidents.length != 0) {\n      return;\n    }\n\n    axios.get(\"https://7juxc9c5n7.execute-api.ap-southeast-2.amazonaws.com/dev\").then(function (response) {\n      console.log(response);\n      setIncidents(response.data.body);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var signOut = function signOut() {\n    return _regeneratorRuntime.async(function signOut$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Auth.signOut({\n              global: true\n            }));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('error signing out: ', _context.t0);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  function getDateDifference(date_str) {\n    var date = moment.utc(date_str).local().startOf('seconds').fromNow();\n    return date;\n  }\n\n  return React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }), React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, React.createElement(CameraIcon, {\n    className: classes.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }), React.createElement(Typography, {\n    variant: \"h6\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, \"Citizen Watch\"), React.createElement(Button, {\n    color: \"inherit\",\n    onClick: function onClick() {\n      return signOut();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, \"Sign Out\"))), React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    className: classes.heroContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, React.createElement(Container, {\n    maxWidth: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h2\",\n    align: \"center\",\n    color: \"textPrimary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, \"Incidents\"), React.createElement(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    color: \"textSecondary\",\n    paragraph: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"We can be in a society that police each other to maintain order in the city. Report on invalid behaviour such as incorrect parking.\"), React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return navigation.navigate('Capture');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \" \", \"Report an Incident\"))))))), React.createElement(Container, {\n    className: classes.cardGrid,\n    maxWidth: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    onLoad: apiMethodGet(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, incidents && incidents.map(function (incident) {\n    return React.createElement(Grid, {\n      item: true,\n      key: incident.key,\n      xs: 12,\n      sm: 6,\n      md: 4,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, React.createElement(Card, {\n      className: classes.card,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, React.createElement(CardMedia, {\n      className: classes.cardMedia,\n      image: incident.url,\n      title: incident.key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }), React.createElement(CardContent, {\n      className: classes.cardContent,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, React.createElement(Typography, {\n      gutterBottom: true,\n      variant: \"h5\",\n      component: \"h2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, \"Incident \", incident.key), React.createElement(Typography, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, getDateDifference(incident.date)))));\n  })))), React.createElement(\"footer\", {\n    className: classes.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    align: \"center\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, \"Incident Reports\"), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    align: \"center\",\n    color: \"textSecondary\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, \"Report on innapropriate behaviour!\"), React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/autum/OneDrive/Documents/Amazon/citizenwatch/src/screens/Home.tsx"],"names":["React","AppBar","Button","CameraIcon","Card","CardContent","CardMedia","CssBaseline","Grid","Toolbar","Typography","makeStyles","Container","Link","Auth","Paper","moment","Copyright","Date","getFullYear","useStyles","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","flexGrow","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","footer","title","root","textAlign","color","text","secondary","Home","navigation","classes","useState","incidents","setIncidents","axios","require","apiMethodGet","length","get","then","response","console","log","data","body","catch","error","signOut","global","getDateDifference","date_str","date","utc","local","startOf","fromNow","navigate","map","incident","key","url"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Pressable } from 'react-native';\r\nimport { Auth } from 'aws-amplify';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Redirect } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\n// Copyright\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        NZ Interns AWS\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n// Styles\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n    flexGrow: 1,\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\n\r\n// Main Home Page\r\nexport default function Home({ navigation }) {\r\n  const classes = useStyles();\r\n\r\n  // API Get Method to get the incidents\r\n  const [incidents, setIncidents] = React.useState([]);\r\n  const axios = require(\"axios\");\r\n\r\n  const apiMethodGet = () => {\r\n    if (!incidents || incidents.length != 0) {\r\n      return;\r\n    }\r\n    axios.get(\"https://7juxc9c5n7.execute-api.ap-southeast-2.amazonaws.com/dev\")\r\n    .then(response => {\r\n      console.log(response)\r\n      setIncidents(response.data.body);\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  // Signs out the user\r\n  const signOut = async () => {\r\n    try {\r\n      await Auth.signOut({ global: true });\r\n    } catch (error) {\r\n      console.log('error signing out: ', error);\r\n    }\r\n  };\r\n\r\n  // Gets the difference with the Date\r\n  function getDateDifference(date_str) {\r\n    var date = moment.utc(date_str).local().startOf('seconds').fromNow()\r\n    return date;\r\n  }\r\n\r\n  // Renders the App\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      {/* Header */}\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <CameraIcon className={classes.icon} />\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Citizen Watch\r\n          </Typography>\r\n          <Button color=\"inherit\" onClick={() => signOut()}>Sign Out</Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main>\r\n        {/* Setting the header and button to report a new incident */}\r\n        <div className={classes.heroContent}>\r\n          <Container maxWidth=\"sm\">\r\n            <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Incidents\r\n            </Typography>\r\n            <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\r\n              We can be in a society that police each other to maintain order in the city. Report on invalid behaviour such as incorrect parking.\r\n            </Typography>\r\n            <div className={classes.root}>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                  <Paper className={classes.paper} elevation={0}>\r\n                  <Button variant=\"contained\" color=\"primary\" onClick={() => navigation.navigate('Capture')}> {/* Use Navigate to navigate through the pages*/}\r\n                    Report an Incident\r\n                  </Button>\r\n                  </Paper>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Container>\r\n        </div>\r\n        {/* Setting the incidents */}\r\n        <Container className={classes.cardGrid} maxWidth=\"md\">\r\n          <Grid container spacing={4} onLoad={apiMethodGet()}>\r\n            {\r\n              incidents && incidents.map((incident) => (\r\n              <Grid item key={incident.key} xs={12} sm={6} md={4}>\r\n                <Card className={classes.card}>\r\n                  <CardMedia\r\n                    className={classes.cardMedia}\r\n                    image={incident.url}\r\n                    title={incident.key}\r\n                  />\r\n                  <CardContent className={classes.cardContent}>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                      Incident {incident.key}\r\n                    </Typography>\r\n                    <Typography>\r\n                      {getDateDifference(incident.date)}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </Container>\r\n      </main>\r\n      <footer className={classes.footer}>\r\n        <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n          Incident Reports\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\r\n          Report on innapropriate behaviour!\r\n        </Typography>\r\n        <Copyright />\r\n      </footer>\r\n    </React.Fragment>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}