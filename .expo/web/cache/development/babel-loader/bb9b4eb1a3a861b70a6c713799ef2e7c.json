{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\autum\\\\OneDrive\\\\Documents\\\\Amazon\\\\citizenwatch\\\\src\\\\screens\\\\Home.tsx\";\nimport React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\nimport { Auth } from 'aws-amplify';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\n\nfunction Copyright() {\n  return React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }, 'Copyright © ', React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"NZ Interns AWS\"), ' ', new Date().getFullYear(), '.');\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    icon: {\n      marginRight: theme.spacing(2)\n    },\n    heroContent: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(8, 0, 6),\n      flexGrow: 1\n    },\n    heroButtons: {\n      marginTop: theme.spacing(4)\n    },\n    cardGrid: {\n      paddingTop: theme.spacing(8),\n      paddingBottom: theme.spacing(8)\n    },\n    card: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    cardMedia: {\n      paddingTop: '56.25%'\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    footer: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(6)\n    },\n    title: {\n      flexGrow: 1\n    },\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    }\n  };\n});\nexport default function Home(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n  var classes = useStyles();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      incidents = _React$useState2[0],\n      setIncidents = _React$useState2[1];\n\n  var axios = require(\"axios\");\n\n  var apiMethodGet = function apiMethodGet() {\n    if (!incidents || incidents.length != 0) {\n      return;\n    }\n\n    axios.get(\"https://z9w0rsou5h.execute-api.ap-southeast-2.amazonaws.com/dev\").then(function (response) {\n      console.log(response);\n      setIncidents(response.data.contents);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var signOut = function signOut() {\n    return _regeneratorRuntime.async(function signOut$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Auth.signOut({\n              global: true\n            }));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('error signing out: ', _context.t0);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  function getDateDifference(date_str) {\n    var date = moment.utc(date_str).local().startOf('seconds').fromNow();\n    return date;\n  }\n\n  return React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }), React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, React.createElement(CameraIcon, {\n    className: classes.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), React.createElement(Typography, {\n    variant: \"h6\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"Citizen Watch\"), React.createElement(Button, {\n    color: \"inherit\",\n    onClick: function onClick() {\n      return signOut();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, \"Sign Out\"))), React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    className: classes.heroContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, React.createElement(Container, {\n    maxWidth: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h2\",\n    align: \"center\",\n    color: \"textPrimary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, \"Incidents\"), React.createElement(Typography, {\n    variant: \"h5\",\n    align: \"center\",\n    color: \"textSecondary\",\n    paragraph: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"We can be in a society that police each other to maintain order in the city. Report on invalid behaviour such as incorrect parking.\"), React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return navigation.navigate('Capture');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, \" \", \"Report an Incident\"))))))), React.createElement(Container, {\n    className: classes.cardGrid,\n    maxWidth: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    onLoad: apiMethodGet(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, incidents && incidents.map(function (incident) {\n    return React.createElement(Grid, {\n      item: true,\n      key: incident.key,\n      xs: 12,\n      sm: 6,\n      md: 4,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, React.createElement(Card, {\n      className: classes.card,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, React.createElement(CardMedia, {\n      className: classes.cardMedia,\n      image: incident.url,\n      title: incident.key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }), React.createElement(CardContent, {\n      className: classes.cardContent,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, React.createElement(Typography, {\n      gutterBottom: true,\n      variant: \"h5\",\n      component: \"h2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, \"Incident \", incident.key), React.createElement(Typography, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    }, getDateDifference(incident.date)))));\n  })))), React.createElement(\"footer\", {\n    className: classes.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    align: \"center\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, \"Incident Reports\"), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    align: \"center\",\n    color: \"textSecondary\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, \"Report incidents within your local area.\"), React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/autum/OneDrive/Documents/Amazon/citizenwatch/src/screens/Home.tsx"],"names":["React","AppBar","Button","CameraIcon","Card","CardContent","CardMedia","CssBaseline","Grid","Toolbar","Typography","makeStyles","Container","Link","Auth","Paper","moment","Copyright","Date","getFullYear","useStyles","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","flexGrow","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","footer","title","root","textAlign","color","text","secondary","Home","navigation","classes","useState","incidents","setIncidents","axios","require","apiMethodGet","length","get","then","response","console","log","data","contents","catch","error","signOut","global","getDateDifference","date_str","date","utc","local","startOf","fromNow","navigate","map","incident","key","url"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\nimport { Pressable } from 'react-native';\nimport { Auth } from 'aws-amplify';\nimport Paper from '@material-ui/core/Paper';\nimport { Redirect } from 'react-router-dom';\nimport moment from 'moment';\n\n// Copyright\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        NZ Interns AWS\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\n// Styles\nconst useStyles = makeStyles((theme) => ({\n\ticon: {\n\t\tmarginRight: theme.spacing(2),\n\t},\n\t\n\theroContent: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tpadding: theme.spacing(8, 0, 6),\n\t\tflexGrow: 1,\n\t},\n\theroButtons: {\n\tmarginTop: theme.spacing(4),\n\t},\n\tcardGrid: {\n\tpaddingTop: theme.spacing(8),\n\tpaddingBottom: theme.spacing(8),\n\t},\n\tcard: {\n\theight: '100%',\n\tdisplay: 'flex',\n\tflexDirection: 'column',\n\t},\n\tcardMedia: {\n\tpaddingTop: '56.25%', // 16:9\n\t},\n\tcardContent: {\n\tflexGrow: 1,\n\t},\n\tfooter: {\n\tbackgroundColor: theme.palette.background.paper,\n\tpadding: theme.spacing(6),\n\t},\n\ttitle: {\n\tflexGrow: 1,\n\t},\n\troot: {\n\tflexGrow: 1,\n\t},\n\tpaper: {\n\tpadding: theme.spacing(2),\n\ttextAlign: 'center',\n\tcolor: theme.palette.text.secondary,\n\t},\n}));\n\n\n// Main Home Page\nexport default function Home({ navigation }) {\n  const classes = useStyles();\n\n  // API Get Method to get the incidents\n  const [incidents, setIncidents] = React.useState([]);\n  const axios = require(\"axios\");\n\n  const apiMethodGet = () => {\n    if (!incidents || incidents.length != 0) {\n      return;\n    }\n    axios.get(\"https://z9w0rsou5h.execute-api.ap-southeast-2.amazonaws.com/dev\")\n    .then(response => {\n      console.log(response)\n      setIncidents(response.data.contents);\n    })\n    .catch(error => {\n      console.log(error);\n    })\n  };\n\n  // Signs out the user\n  const signOut = async () => {\n    try {\n      await Auth.signOut({ global: true });\n    } catch (error) {\n      console.log('error signing out: ', error);\n    }\n  };\n\n  // Gets the difference with the Date\n  function getDateDifference(date_str) {\n    var date = moment.utc(date_str).local().startOf('seconds').fromNow()\n    return date;\n  }\n\n  // Renders the App\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      {/* Header */}\n      <AppBar position=\"static\">\n        <Toolbar>\n          <CameraIcon className={classes.icon} />\n          <Typography variant=\"h6\" className={classes.title}>\n            Citizen Watch\n          </Typography>\n          <Button color=\"inherit\" onClick={() => signOut()}>Sign Out</Button>\n        </Toolbar>\n      </AppBar>\n      <main>\n        {/* Setting the header and button to report a new incident */}\n        <div className={classes.heroContent}>\n          <Container maxWidth=\"sm\">\n            <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n              Incidents\n            </Typography>\n            <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\n              We can be in a society that police each other to maintain order in the city. Report on invalid behaviour such as incorrect parking.\n            </Typography>\n            <div className={classes.root}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}>\n                  <Paper className={classes.paper} elevation={0}>\n                  <Button variant=\"contained\" color=\"primary\" onClick={() => navigation.navigate('Capture')}> {/* Use Navigate to navigate through the pages*/}\n                    Report an Incident\n                  </Button>\n                  </Paper>\n                </Grid>\n              </Grid>\n            </div>\n          </Container>\n        </div>\n        {/* Setting the incidents */}\n        <Container className={classes.cardGrid} maxWidth=\"md\">\n          <Grid container spacing={4} onLoad={apiMethodGet()}>\n            {\n              incidents && incidents.map((incident) => (\n              <Grid item key={incident.key} xs={12} sm={6} md={4}>\n                <Card className={classes.card}>\n                  <CardMedia\n                    className={classes.cardMedia}\n                    image={incident.url}\n                    title={incident.key}\n                  />\n                  <CardContent className={classes.cardContent}>\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                      Incident {incident.key}\n                    </Typography>\n                    <Typography>\n                      {getDateDifference(incident.date)}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </Container>\n      </main>\n      <footer className={classes.footer}>\n        <Typography variant=\"h6\" align=\"center\" gutterBottom>\n          Incident Reports\n        </Typography>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\n          Report incidents within your local area.\n        </Typography>\n        <Copyright />\n      </footer>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}