{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\autum\\\\OneDrive\\\\Documents\\\\Amazon\\\\citizenwatch\\\\src\\\\screens\\\\Capture.tsx\";\n\nimport React from 'react';\nimport Webcam from \"react-webcam\";\nimport EXIF from 'exif-js';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { Auth } from 'aws-amplify';\nimport { withAuthenticator } from 'aws-amplify-react-native';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./Home.css\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    icon: {\n      marginRight: theme.spacing(2)\n    },\n    navBar: {\n      backgroundColor: '#3C3C3C',\n      flexGrow: 1,\n      justifyContent: 'space-around'\n    },\n    heroContent: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(8, 0, 6)\n    },\n    heroButtons: {\n      marginTop: theme.spacing(4)\n    },\n    captureButton: {\n      margin: 'auto'\n    },\n    cardGrid: {\n      paddingTop: theme.spacing(8),\n      paddingBottom: theme.spacing(8)\n    },\n    card: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    cardMedia: {\n      paddingTop: '56.25%'\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    footer: {\n      backgroundColor: '#3C3C3C',\n      color: theme.palette.background.paper,\n      padding: theme.spacing(6)\n    },\n    video: {\n      width: '100%',\n      height: '50%',\n      facingMode: \"user\"\n    },\n    root: {\n      flexGrow: 1\n    },\n    title: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    }\n  };\n});\n\nvar Logo = function Logo() {\n  return React.createElement(\"svg\", {\n    class: \"logo-svg\",\n    width: \"12rem\",\n    viewBox: \"0 0 5821 1024\",\n    fill: \"#FFFFFF\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 3\n    }\n  }, React.createElement(\"path\", {\n    d: \"M374.354 785.229c206.786 0 374.381-167.608 374.381-374.381 0-206.76-167.621-374.354-374.381-374.354s-374.354 167.608-374.354 374.354c-0.013 206.773 167.595 374.381 374.354 374.381v0zM186.529 203.798h73.001v38.411c38.768-26.908 77.219-41.016 115.392-42.206 29.023 0 57.015 7.259 83.883 21.804 26.934 14.558 48.593 34.339 64.949 59.263 16.343 25.004 24.554 51.964 24.554 80.961 0 31.509-7.881 59.937-23.602 85.298-15.722 25.414-36.904 45.406-63.56 60.123-26.67 14.677-55.799 22.888-87.44 24.594v1.362c7.986 3.411 24.012 11.213 48.143 23.377s44.679 21.248 61.643 27.265 34.008 9.018 51.158 9.018c12.575 0 21.843-1.864 27.794-5.553l4.998 5.553c-10.975 10.102-25.85 15.126-44.573 15.126-15.312 0-30.914-1.904-46.821-5.593-15.96-3.729-29.896-7.881-41.783-12.403-11.953-4.522-30.861-11.953-56.738-22.359-47.826-22.425-87.162-43.185-117.971-62.212v55.442c0 8.727 0.965 15.007 2.949 18.802 1.957 3.768 5.263 6.334 9.996 7.643 6.862 0.82 13.87 1.811 21.143 3.001 4.496-0.82 10.419-1.216 17.745-1.216v11.332h-119.848v-11.305h33.202v-347.711c0-17.665-10.895-26.498-32.686-26.498h-5.553l0.026-11.318zM361.978 218.131c-41.082 0-75.223 16.039-102.448 48.090v216.729l6.175-9.917c41.995 30.346 79.229 45.525 111.796 45.525 24.409 0 47.165-6.558 68.387-19.675 21.182-13.117 38.015-30.782 50.457-52.916 12.429-22.134 18.683-45.922 18.683-71.388-0.727-27.238-7.986-52.705-21.91-76.465-13.963-23.734-32.435-42.761-55.521-57.095s-48.315-21.976-75.619-22.888v0 0z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M1585.558 105.304v-58.827h16.66v260.601h-16.66c0-47.535-2.34-83.262-6.942-107.181-4.641-23.946-15.034-44.070-31.179-60.413-16.317-16.515-39.905-29.777-70.714-39.813-30.808-10.049-61.709-15.074-92.689-15.074-59.924 0-113.052 15.166-159.344 45.498-46.305 30.319-81.86 69.735-106.692 118.248-24.832 48.54-37.234 98.481-37.234 149.863 0 42.484 7.695 84.029 23.1 124.741s37.327 77.298 65.808 109.813c28.428 32.527 62.013 58.126 100.755 76.849 38.715 18.71 80.049 28.058 123.987 28.058 45.789 0 87.255-8.793 124.357-26.392 37.142-17.586 69.087-39.786 95.836-66.535l17.678 22.677c-33.334 30.24-71.771 53.71-115.287 70.436-43.515 16.713-87.85 25.572-132.965 26.59-64.301 0-123.947-15.735-178.913-47.217s-98.573-73.914-130.81-127.279c-32.236-53.353-48.355-111.016-48.355-172.989 0-50.668 10.393-98.097 31.165-142.3 20.786-44.189 49.174-82.389 85.126-114.652 35.939-32.236 76.677-57.147 122.215-74.733 45.525-17.586 92.28-26.392 140.264-26.392 65.173-0.040 125.441 15.457 180.83 46.424z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M1710.814 725.014v-352.365l-36.362 42.153-12.389-12.376 109.601-129.448 12.389 12.575-26.762 29.856v367.188c0 14.32 2.367 24.647 7.061 31.073 4.707 6.386 13.394 10.856 26.022 13.381 3.359-1.349 7.841-1.997 13.394-1.997v18.683h-139.656v-18.683l46.715-0.040zM1731.269 95.202c10.446 0 20.111 4.073 29.037 12.178 8.925 8.092 13.394 17.546 13.394 28.375 0 12.337-4.244 22.452-12.76 30.398-8.515 7.96-18.406 11.9-29.671 11.9-12.945 0-23.232-3.808-30.795-11.398-7.576-7.603-11.371-17.903-11.371-30.901 0-10.975 4.125-20.482 12.403-28.494 8.211-8.039 18.154-12.059 29.764-12.059z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M1891.631 590.568v-260.76h-52.784v-22.729h52.784v-169.446l45.459-52.771v222.23h89.119v22.729h-89.119v250.407c0 27.278 1.375 51.263 4.152 71.904 2.777 20.653 10.195 38.993 22.24 55.085 12.019 16.092 30.517 24.131 55.402 24.131 39.562 0 72.314-20.045 98.243-60.109l14.412 6.281c0 14.148-5.434 27.463-16.29 39.945-10.856 12.456-24.29 22.346-40.276 29.684-15.999 7.325-30.901 10.988-44.705 10.988-40.924 0-75.104-14.822-102.527-44.467-13.13-14.148-22.425-30.742-27.899-49.783-5.474-19.067-8.211-43.502-8.211-73.319z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M2310.439 690.926l-106.613-305.055c-11.966-37.182-35.383-55.812-70.251-55.812h-8.33v-18.683h151.106v18.683h-44.454l105.595 298.748c35.714-85.364 59.792-160.098 72.287-224.253 2.856-12.958 4.271-24.409 4.271-34.352 0-17.996-3.491-28.931-10.485-32.712-6.968-3.795-21.103-6.281-42.312-7.431v-18.683h156.17v18.683h-44.467l-90.971 237.859c-8.753 24.435-18.062 50.404-27.913 77.933-9.838 27.516-20.667 56.010-32.474 85.483-11.794 29.473-23.523 56.354-35.225 80.697-11.728 24.329-24.409 47.429-38.041 69.299-28.455 44.798-53.855 78.436-76.188 100.887-22.32 22.478-49.307 36.428-80.988 41.796v-68.162h11.371c2.869 1.679 5.937 3.491 9.216 5.408 3.279 1.93 6.426 3.583 9.481 4.932 10.763 0 30.398-14.822 58.866-44.427 56.909-66.694 100.358-143.636 130.347-230.838z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M2729.565 537.89c0.502-30.465 7.444-60.096 20.852-88.895 13.394-28.799 31.787-54.543 55.204-77.285 23.417-22.729 50.364-40.514 80.842-53.406 30.504-12.892 62.331-19.331 95.519-19.331 37.393 0 72.459 9.983 105.238 29.949 32.778 19.953 58.787 46.556 78.065 79.798 19.292 33.254 28.931 68.717 28.931 106.441-0.688 42.431-12.892 82.072-36.626 118.936-23.734 36.877-54.886 66.443-93.43 88.776-38.557 22.306-78.7 34.021-120.443 35.225-38.927 0-74.879-10.195-107.816-30.57-32.964-20.363-58.919-47.429-77.88-81.186-18.974-33.744-28.455-69.894-28.455-108.451zM2767.95 521.216c0 36.19 9.467 70.039 28.389 101.522 18.948 31.483 44.295 56.407 76.016 74.747s65.53 27.529 101.39 27.529c34.167 0 65.2-8.938 93.046-26.762 27.86-17.837 49.664-41.624 65.411-71.348 15.708-29.711 23.602-61.484 23.602-95.347 0-32.302-8.714-63.931-26.154-94.818-17.401-30.901-41.043-56.050-70.819-75.513-29.79-19.45-61.617-29.169-95.466-29.169-34.497 0-66.8 8.436-96.828 25.255-30.041 16.832-54.001 39.733-71.864 68.691-17.797 28.97-26.723 60.718-26.723 95.215z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M3290.422 329.808h-42.166v-22.729h42.166v-74.231c0-37.049 1.904-67.474 5.686-91.275 3.782-23.827 13.328-45.855 28.627-66.046 13.474-18.67 33.598-34.55 60.413-47.614 26.802-13.037 53.168-19.556 79.057-19.556 23.708 0 43.304 3.464 58.774 10.353v-14.664h17.678v169.697h-17.678v-110.606c-18.181-18.181-44.361-28.534-78.528-31.060-40.91 0-69.074 17.348-84.478 52.030s-23.1 74.231-23.1 118.698v104.299h101.258v22.729h-101.258v348.716c0 12.826 0.582 21.063 1.772 24.766 1.177 3.702 4.046 7.841 8.568 12.403 5.567 6.228 22.386 9.348 50.51 9.348v18.683h-153.79v-18.683h46.477v-395.259h0.013z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M3769.22 78.555h120.946v63.375c64.988-44.917 129.461-68.426 193.458-70.449 48.474 0 95.175 12.218 140.158 36.639 44.943 24.409 81.093 57.571 108.451 99.486 27.344 41.942 41.043 87.229 41.043 135.861 0 52.863-13.13 100.596-39.39 143.199s-61.656 76.227-106.176 100.887c-44.533 24.66-93.232 38.424-146.095 41.294v2.274c13.302 5.739 40.104 18.802 80.432 39.257 40.315 20.455 74.654 35.714 103.029 45.829 28.375 10.102 56.857 15.153 85.483 15.153 21.050 0 36.534-3.107 46.477-9.348l8.343 9.348c-18.366 16.488-43.198 24.739-74.509 24.739-25.599 0-51.673-3.107-78.29-9.335-26.604-6.228-49.862-13.090-69.801-20.587-19.966-7.497-51.554-19.9-94.845-37.234-80.141-37.697-146.055-72.499-197.715-104.497v93.165c0 14.624 1.626 25.136 4.906 31.549 3.292 6.386 8.899 10.697 16.806 12.879 11.437 1.375 23.232 3.028 35.357 5.051 7.576-1.349 17.507-1.997 29.803-1.997v18.683h-199.5v-18.683h55.812v-583.375c0-29.632-18.273-44.441-54.807-44.441h-9.348v-18.683h-0.026zM3890.166 182.298v364.001l10.353-16.66c70.357 50.986 132.833 76.492 187.375 76.492 40.924 0 79.123-11.028 114.652-33.069 35.542-22.042 63.719-51.66 84.584-88.855 20.878-37.195 31.311-77.179 31.311-119.914-1.177-45.763-13.434-88.59-36.732-128.483-23.311-39.905-54.331-71.877-93.060-95.929s-80.974-36.851-126.764-38.358c-68.849 0-126.089 26.921-171.72 80.776z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M4615.325 690.926l-106.626-305.055c-11.966-37.182-35.383-55.812-70.238-55.812h-8.343v-18.683h151.119v18.683h-44.467l105.608 298.748c35.714-85.364 59.779-160.098 72.274-224.253 2.856-12.958 4.284-24.409 4.284-34.352 0-17.996-3.504-28.931-10.485-32.712-6.981-3.795-21.116-6.281-42.312-7.431v-18.683h156.157v18.683h-44.454l-90.984 237.859c-8.74 24.435-18.049 50.404-27.899 77.933-9.851 27.516-20.68 56.010-32.474 85.483-11.808 29.473-23.536 56.354-35.238 80.697-11.715 24.329-24.395 47.429-38.028 69.299-28.468 44.798-53.868 78.436-76.188 100.887-22.32 22.478-49.307 36.428-80.988 41.796v-68.162h11.358c2.869 1.679 5.937 3.491 9.216 5.408 3.279 1.93 6.439 3.583 9.481 4.932 10.776 0 30.398-14.822 58.866-44.427 56.896-66.694 100.358-143.636 130.36-230.838z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M5286.656 684.857c0 17.004 3.954 27.939 11.861 32.818s23.972 7.338 48.209 7.338v18.683h-106.573v-56.83c-50.378 46.12-106.97 69.18-169.803 69.18-38.266 0-73.98-8.885-107.155-26.643-33.188-17.771-59.686-43.105-79.467-76.016-19.807-32.897-29.698-70.767-29.698-113.502 0-41.598 12.046-81.027 36.137-118.315 24.065-37.274 55.521-67.038 94.382-89.265 38.834-22.227 78.793-33.334 119.888-33.334 49.703 0 94.937 16.184 135.702 48.487v-256.542l-42.418 50.761-14.637-10.353 108.834-131.325 14.386 12.389-19.688 21.738v650.743h0.040zM5240.192 414.643c-41.598-55.045-95.043-82.574-160.349-82.574-32.818 0-63.626 8.304-92.425 24.898-28.785 16.581-51.806 39.773-69.074 69.577-17.269 29.79-25.876 63.468-25.876 101.006 1.997 37.049 12.244 70.542 30.663 100.53 18.445 29.975 42.51 53.458 72.221 70.436 29.711 17.004 61.339 25.85 94.845 26.537 58.589-2.182 108.583-24.938 149.996-68.188v-242.222z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 4\n    }\n  }), React.createElement(\"path\", {\n    d: \"M5365.435 501.779c7.735-41.743 24.938-77.96 51.607-108.596 26.67-30.623 57.795-54.001 93.377-70.079s69.96-24.118 103.109-24.118c33.162 0 63.494 6.334 91.010 18.961 27.503 12.627 50.854 29.394 70.039 50.259 19.186 20.878 32.739 42.933 40.619 66.165h-396.224c-10.935 30.808-17.401 62.542-19.45 95.202 0.674 37.869 10.948 71.507 30.808 100.887 19.873 29.38 45.538 52.229 77.021 68.558s64.155 25.030 97.978 26.035c33.175 0 63.428-6.519 90.772-19.569 27.357-13.037 50.272-29.671 68.677-49.862 18.445-20.204 32.448-41.162 42.061-62.899l14.637 7.338c-10.763 28.296-26.921 54.371-48.46 78.29-21.539 23.906-48.13 43.185-79.758 57.822s-66.443 21.976-104.484 21.976c-39.376 0-76.452-9.573-111.28-28.666-34.854-19.106-62.727-45.459-83.672-79.057s-31.417-70.41-31.417-110.46c0.026-12.006 1.018-24.713 3.028-38.186zM5433.65 412.633h319.441c-15.497-22.743-36.785-41.598-63.891-56.566s-57.147-22.967-90.151-23.986c-35.357 0-67.249 6.995-95.704 20.971-28.455 13.963-51.687 33.823-69.696 59.58z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 4\n    }\n  }));\n};\n\nfunction Copyright() {\n  return React.createElement(Typography, {\n    variant: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 3\n    }\n  }, \"Copyright \\xA9 \", React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 4\n    }\n  }, \"New Zealand AWS Interns\"), ' ', new Date().getFullYear(), '.');\n}\n\nfunction Capture(_ref) {\n  var navigation = _ref.navigation;\n  var classes = useStyles();\n  var webcamRef = React.useRef(null);\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      imgSrc = _React$useState2[0],\n      setImgSrc = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      imgComment = _React$useState4[0],\n      setImgComment = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      latitude = _React$useState6[0],\n      setLatitude = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      longitude = _React$useState8[0],\n      setLongitude = _React$useState8[1];\n\n  var capture = React.useCallback(function () {\n    getUser();\n    var imageSrc = webcamRef.current.getScreenshot();\n    setImgSrc(imageSrc);\n    fetch(imageSrc).then(function (res) {\n      return res.blob();\n    }).then(function (blob) {\n      var file2 = new File([blob], \"test.jpg\", {\n        type: \"image/jpg\"\n      });\n      console.log(file2);\n      EXIF.getData(file2, function () {\n        var exifData = EXIF.pretty(this);\n        var exifLong = EXIF.getTag(this, \"GPSLongitude\");\n        var exifLat = EXIF.getTag(this, \"GPSLatitude\");\n        var exifLat_final;\n\n        if (exifLat) {\n          var exifLatNum1 = exifLat[0].numerator / exifLat[0].denominator;\n          var exifLatNum2 = exifLat[1].numerator / exifLat[1].denominator;\n          var exifLatNum3 = exifLat[2].numerator / exifLat[2].denominator;\n          exifLat_final = exifLatNum1 + exifLatNum2 / 60 + exifLatNum3 / 3600;\n          exifLat_final = exifLat_final.toString();\n          setLatitude(exifLat_final);\n        }\n\n        var exifLong_final;\n\n        if (exifLong) {\n          var exifLongNum1 = exifLong[0].numerator / exifLong[0].denominator;\n          var exifLongNum2 = exifLong[1].numerator / exifLong[1].denominator;\n          var exifLongNum3 = exifLong[2].numerator / exifLong[2].denominator;\n          exifLong_final = exifLongNum1 + exifLongNum2 / 60 + exifLongNum3 / 3600;\n          exifLong_final = exifLong_final.toString();\n          setLongitude(exifLong_final);\n        }\n\n        if (exifLong && exifLat) {\n          geocodeLatLng(exifLat_final, exifLong_final);\n        }\n\n        console.log(latitude, longitude);\n        setLatLongByCurrentPosition(exifLat, exifLong);\n      });\n    });\n  }, [webcamRef, setImgSrc]);\n\n  function setLatLongByCurrentPosition(lat, long) {\n    if (lat || long) {\n      return;\n    }\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getPosition);\n    }\n\n    function getPosition(position) {\n      console.log(position.coords.latitude, position.coords.longitude);\n      var lat_var = position.coords.latitude + \"\";\n      var long_var = position.coords.longitude + \"\";\n      setLongitude(long_var);\n      setLatitude(lat_var);\n      geocodeLatLng(lat_var, long_var);\n      alert(\"Your photo has been captured.\");\n    }\n  }\n\n  var _React$useState9 = React.useState(\"\"),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      city = _React$useState10[0],\n      setCity = _React$useState10[1];\n\n  var _React$useState11 = React.useState(\"\"),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      suburb = _React$useState12[0],\n      setSuburb = _React$useState12[1];\n\n  var _React$useState13 = React.useState(\"\"),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      country = _React$useState14[0],\n      setCountry = _React$useState14[1];\n\n  function geocodeLatLng(lat, long) {\n    var API_KEY = \"HedZ30NsSEanvewLY-XkRQ43WOCSSBXqdhr1yvsuPz0\";\n    return new Promise(function (resolve) {\n      var url = \"https://reverse.geocoder.ls.hereapi.com/6.2/reversegeocode.json?apiKey=\" + API_KEY + \"&mode=retrieveAddresses&prox=\" + lat + \",\" + long;\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        if (resJson && resJson.Response && resJson.Response.View && resJson.Response.View[0] && resJson.Response.View[0].Result && resJson.Response.View[0].Result[0]) {\n          var address = resJson.Response.View[0].Result[0].Location.Address;\n          setCity(address.City);\n          setCountry(address.Country);\n          setSuburb(address.District);\n          console.log(resJson.Response.View[0].Result[0].Location.Address);\n          resolve(resJson.Response.View[0].Result[0].Location.Address.Label);\n        } else {\n          resolve();\n        }\n      }).catch(function (e) {\n        console.log('Error in getting the address from the coordinates', e);\n        resolve();\n      });\n    });\n  }\n\n  var _React$useState15 = React.useState(null),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      errorMsg = _React$useState16[0],\n      setErrorMsg = _React$useState16[1];\n\n  var signOut = function signOut() {\n    return _regeneratorRuntime.async(function signOut$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Auth.signOut({\n              global: true\n            }));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('Error signing out: ', _context.t0);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var _React$useState17 = React.useState(\"\"),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      email = _React$useState18[0],\n      setEmail = _React$useState18[1];\n\n  var getUser = function getUser() {\n    var userInfo;\n    return _regeneratorRuntime.async(function getUser$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Auth.currentUserInfo());\n\n          case 3:\n            userInfo = _context2.sent;\n            setEmail(userInfo.attributes.email);\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log('Error getting user data: ', _context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var axios = require(\"axios\");\n\n  var apiMethod = function apiMethod() {\n    var imgSrc_API = imgSrc;\n    var imgComment_API = imgComment;\n    var date = new Date();\n    console.log(imgSrc);\n    console.log(imgComment);\n    console.log(latitude);\n    console.log(longitude);\n    console.log(email);\n    console.log(country);\n    console.log(city);\n    console.log(suburb);\n    axios.post(\"https://z9w0rsou5h.execute-api.ap-southeast-2.amazonaws.com/dev\", {\n      comment: imgComment_API,\n      image: imgSrc_API,\n      latitude: latitude,\n      longitude: longitude,\n      timestamp: date.toISOString(),\n      email: email,\n      city: city,\n      country: country,\n      suburb: suburb\n    }).then(function (response) {\n      alert(\"Your photo and comment has been uploaded.\");\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var commentHandler = function commentHandler(event) {\n    setImgComment(event.target.value);\n  };\n\n  return React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 5\n    }\n  }, React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }\n  }), React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }\n  }, React.createElement(Toolbar, {\n    className: classes.navBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }\n  }, React.createElement(Logo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  }), React.createElement(Button, {\n    color: \"inherit\",\n    onClick: function onClick() {\n      return signOut();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 11\n    }\n  }, \"Sign out\"))), React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    className: classes.heroContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 9\n    }\n  }, React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 11\n    }\n  }, React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 11\n    }\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 5,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 11\n    }\n  }, React.createElement(Webcam, {\n    className: classes.video,\n    audio: false,\n    ref: webcamRef,\n    screenshotFormat: \"image/jpeg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }\n  })), React.createElement(CardContent, {\n    className: classes.cardContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 11\n    }\n  }, React.createElement(TextField, {\n    fullWidth: true,\n    margin: \"normal\",\n    variant: \"filled\",\n    InputLabelProps: {\n      shrink: true\n    },\n    placeholder: \"Enter a comment here...\",\n    onChange: commentHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 13\n    }\n  })), React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    className: classes.heroButtons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  }, React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 15\n    }\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    onClick: function onClick() {\n      return capture();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 17\n    }\n  }, \"Capture Photo\")), React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 15\n    }\n  }, React.createElement(Button, {\n    variant: \"outlined\",\n    onClick: function onClick() {\n      return apiMethod();\n    },\n    disabled: !imgSrc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 17\n    }\n  }, \"Upload\")), React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 15\n    }\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    href: \"/Home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 17\n    }\n  }, \"Home\"))))))))), React.createElement(\"footer\", {\n    className: classes.footer,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }\n  }, \"CitizenWatch Application\"), React.createElement(Typography, {\n    variant: \"body\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }\n  }, \"Report issues within your local area.\"), React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default withAuthenticator(Capture);","map":{"version":3,"sources":["C:/Users/autum/OneDrive/Documents/Amazon/citizenwatch/src/screens/Capture.tsx"],"names":["React","Webcam","EXIF","AppBar","Button","Card","CardActions","CardContent","Container","CssBaseline","Grid","Link","Paper","TextField","Toolbar","Typography","Auth","withAuthenticator","makeStyles","useStyles","theme","icon","marginRight","spacing","navBar","backgroundColor","flexGrow","justifyContent","heroContent","palette","background","paper","padding","heroButtons","marginTop","captureButton","margin","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","footer","color","video","width","facingMode","root","title","textAlign","text","secondary","Logo","Copyright","Date","getFullYear","Capture","navigation","classes","webcamRef","useRef","useState","imgSrc","setImgSrc","imgComment","setImgComment","latitude","setLatitude","longitude","setLongitude","capture","useCallback","getUser","imageSrc","current","getScreenshot","fetch","then","res","blob","file2","File","type","console","log","getData","exifData","pretty","exifLong","getTag","exifLat","exifLat_final","exifLatNum1","numerator","denominator","exifLatNum2","exifLatNum3","toString","exifLong_final","exifLongNum1","exifLongNum2","exifLongNum3","geocodeLatLng","setLatLongByCurrentPosition","lat","long","navigator","geolocation","getCurrentPosition","getPosition","position","coords","lat_var","long_var","alert","city","setCity","suburb","setSuburb","country","setCountry","API_KEY","Promise","resolve","url","json","resJson","Response","View","Result","address","Location","Address","City","Country","District","Label","catch","e","errorMsg","setErrorMsg","signOut","global","email","setEmail","currentUserInfo","userInfo","attributes","axios","require","apiMethod","imgSrc_API","imgComment_API","date","post","comment","image","timestamp","toISOString","response","error","commentHandler","event","target","value","shrink"],"mappings":"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","sourcesContent":["// React Native Modules\nimport React from 'react';\nimport { Pressable } from 'react-native';\nimport Webcam from \"react-webcam\"; // Install with npm install react-webcam\nimport EXIF from 'exif-js'\n\n// Material UI\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\n// Amplify\nimport { Auth } from 'aws-amplify';\nimport { withAuthenticator } from 'aws-amplify-react-native';\n\n// User files\nimport Home from './Home';\n\n// Styles\nimport { makeStyles } from '@material-ui/core/styles';\nimport './Home.css';\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n\n  navBar: {\n\t\tbackgroundColor: '#3C3C3C',\n\t\tflexGrow: 1,\n\t\tjustifyContent: 'space-around',\n\t},\n\n  heroContent: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(8, 0, 6),\n  },\n\n  heroButtons: {\n    marginTop: theme.spacing(4),\n  },\n\n  captureButton: {\n    margin: 'auto',\n  },\n\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n\n  card: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n\n  cardMedia: {\n    paddingTop: '56.25%', // 16:9\n  },\n\n  cardContent: {\n    flexGrow: 1,\n  },\n\n  footer: {\n\t\tbackgroundColor: '#3C3C3C',\n\t\tcolor: theme.palette.background.paper,\n\t\tpadding: theme.spacing(6)\n\t},\n\n  video: {\n    width: '100%',\n    height: '50%',\n    facingMode: \"user\"\n  },\n\n  root: {\n    flexGrow: 1,\n  },\n\n  title: {\n    flexGrow: 1,\n  },\n\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst Logo = () => {\n\treturn (\n\t\t<svg class=\"logo-svg\" width=\"12rem\" viewBox=\"0 0 5821 1024\" fill=\"#FFFFFF\">      \t\t\n\t\t\t<path d=\"M374.354 785.229c206.786 0 374.381-167.608 374.381-374.381 0-206.76-167.621-374.354-374.381-374.354s-374.354 167.608-374.354 374.354c-0.013 206.773 167.595 374.381 374.354 374.381v0zM186.529 203.798h73.001v38.411c38.768-26.908 77.219-41.016 115.392-42.206 29.023 0 57.015 7.259 83.883 21.804 26.934 14.558 48.593 34.339 64.949 59.263 16.343 25.004 24.554 51.964 24.554 80.961 0 31.509-7.881 59.937-23.602 85.298-15.722 25.414-36.904 45.406-63.56 60.123-26.67 14.677-55.799 22.888-87.44 24.594v1.362c7.986 3.411 24.012 11.213 48.143 23.377s44.679 21.248 61.643 27.265 34.008 9.018 51.158 9.018c12.575 0 21.843-1.864 27.794-5.553l4.998 5.553c-10.975 10.102-25.85 15.126-44.573 15.126-15.312 0-30.914-1.904-46.821-5.593-15.96-3.729-29.896-7.881-41.783-12.403-11.953-4.522-30.861-11.953-56.738-22.359-47.826-22.425-87.162-43.185-117.971-62.212v55.442c0 8.727 0.965 15.007 2.949 18.802 1.957 3.768 5.263 6.334 9.996 7.643 6.862 0.82 13.87 1.811 21.143 3.001 4.496-0.82 10.419-1.216 17.745-1.216v11.332h-119.848v-11.305h33.202v-347.711c0-17.665-10.895-26.498-32.686-26.498h-5.553l0.026-11.318zM361.978 218.131c-41.082 0-75.223 16.039-102.448 48.090v216.729l6.175-9.917c41.995 30.346 79.229 45.525 111.796 45.525 24.409 0 47.165-6.558 68.387-19.675 21.182-13.117 38.015-30.782 50.457-52.916 12.429-22.134 18.683-45.922 18.683-71.388-0.727-27.238-7.986-52.705-21.91-76.465-13.963-23.734-32.435-42.761-55.521-57.095s-48.315-21.976-75.619-22.888v0 0z\"></path>\n\t\t\t<path d=\"M1585.558 105.304v-58.827h16.66v260.601h-16.66c0-47.535-2.34-83.262-6.942-107.181-4.641-23.946-15.034-44.070-31.179-60.413-16.317-16.515-39.905-29.777-70.714-39.813-30.808-10.049-61.709-15.074-92.689-15.074-59.924 0-113.052 15.166-159.344 45.498-46.305 30.319-81.86 69.735-106.692 118.248-24.832 48.54-37.234 98.481-37.234 149.863 0 42.484 7.695 84.029 23.1 124.741s37.327 77.298 65.808 109.813c28.428 32.527 62.013 58.126 100.755 76.849 38.715 18.71 80.049 28.058 123.987 28.058 45.789 0 87.255-8.793 124.357-26.392 37.142-17.586 69.087-39.786 95.836-66.535l17.678 22.677c-33.334 30.24-71.771 53.71-115.287 70.436-43.515 16.713-87.85 25.572-132.965 26.59-64.301 0-123.947-15.735-178.913-47.217s-98.573-73.914-130.81-127.279c-32.236-53.353-48.355-111.016-48.355-172.989 0-50.668 10.393-98.097 31.165-142.3 20.786-44.189 49.174-82.389 85.126-114.652 35.939-32.236 76.677-57.147 122.215-74.733 45.525-17.586 92.28-26.392 140.264-26.392 65.173-0.040 125.441 15.457 180.83 46.424z\"></path>\n\t\t\t<path d=\"M1710.814 725.014v-352.365l-36.362 42.153-12.389-12.376 109.601-129.448 12.389 12.575-26.762 29.856v367.188c0 14.32 2.367 24.647 7.061 31.073 4.707 6.386 13.394 10.856 26.022 13.381 3.359-1.349 7.841-1.997 13.394-1.997v18.683h-139.656v-18.683l46.715-0.040zM1731.269 95.202c10.446 0 20.111 4.073 29.037 12.178 8.925 8.092 13.394 17.546 13.394 28.375 0 12.337-4.244 22.452-12.76 30.398-8.515 7.96-18.406 11.9-29.671 11.9-12.945 0-23.232-3.808-30.795-11.398-7.576-7.603-11.371-17.903-11.371-30.901 0-10.975 4.125-20.482 12.403-28.494 8.211-8.039 18.154-12.059 29.764-12.059z\"></path>\n\t\t\t<path d=\"M1891.631 590.568v-260.76h-52.784v-22.729h52.784v-169.446l45.459-52.771v222.23h89.119v22.729h-89.119v250.407c0 27.278 1.375 51.263 4.152 71.904 2.777 20.653 10.195 38.993 22.24 55.085 12.019 16.092 30.517 24.131 55.402 24.131 39.562 0 72.314-20.045 98.243-60.109l14.412 6.281c0 14.148-5.434 27.463-16.29 39.945-10.856 12.456-24.29 22.346-40.276 29.684-15.999 7.325-30.901 10.988-44.705 10.988-40.924 0-75.104-14.822-102.527-44.467-13.13-14.148-22.425-30.742-27.899-49.783-5.474-19.067-8.211-43.502-8.211-73.319z\"></path>\n\t\t\t<path d=\"M2310.439 690.926l-106.613-305.055c-11.966-37.182-35.383-55.812-70.251-55.812h-8.33v-18.683h151.106v18.683h-44.454l105.595 298.748c35.714-85.364 59.792-160.098 72.287-224.253 2.856-12.958 4.271-24.409 4.271-34.352 0-17.996-3.491-28.931-10.485-32.712-6.968-3.795-21.103-6.281-42.312-7.431v-18.683h156.17v18.683h-44.467l-90.971 237.859c-8.753 24.435-18.062 50.404-27.913 77.933-9.838 27.516-20.667 56.010-32.474 85.483-11.794 29.473-23.523 56.354-35.225 80.697-11.728 24.329-24.409 47.429-38.041 69.299-28.455 44.798-53.855 78.436-76.188 100.887-22.32 22.478-49.307 36.428-80.988 41.796v-68.162h11.371c2.869 1.679 5.937 3.491 9.216 5.408 3.279 1.93 6.426 3.583 9.481 4.932 10.763 0 30.398-14.822 58.866-44.427 56.909-66.694 100.358-143.636 130.347-230.838z\"></path>\n\t\t\t<path d=\"M2729.565 537.89c0.502-30.465 7.444-60.096 20.852-88.895 13.394-28.799 31.787-54.543 55.204-77.285 23.417-22.729 50.364-40.514 80.842-53.406 30.504-12.892 62.331-19.331 95.519-19.331 37.393 0 72.459 9.983 105.238 29.949 32.778 19.953 58.787 46.556 78.065 79.798 19.292 33.254 28.931 68.717 28.931 106.441-0.688 42.431-12.892 82.072-36.626 118.936-23.734 36.877-54.886 66.443-93.43 88.776-38.557 22.306-78.7 34.021-120.443 35.225-38.927 0-74.879-10.195-107.816-30.57-32.964-20.363-58.919-47.429-77.88-81.186-18.974-33.744-28.455-69.894-28.455-108.451zM2767.95 521.216c0 36.19 9.467 70.039 28.389 101.522 18.948 31.483 44.295 56.407 76.016 74.747s65.53 27.529 101.39 27.529c34.167 0 65.2-8.938 93.046-26.762 27.86-17.837 49.664-41.624 65.411-71.348 15.708-29.711 23.602-61.484 23.602-95.347 0-32.302-8.714-63.931-26.154-94.818-17.401-30.901-41.043-56.050-70.819-75.513-29.79-19.45-61.617-29.169-95.466-29.169-34.497 0-66.8 8.436-96.828 25.255-30.041 16.832-54.001 39.733-71.864 68.691-17.797 28.97-26.723 60.718-26.723 95.215z\"></path>\n\t\t\t<path d=\"M3290.422 329.808h-42.166v-22.729h42.166v-74.231c0-37.049 1.904-67.474 5.686-91.275 3.782-23.827 13.328-45.855 28.627-66.046 13.474-18.67 33.598-34.55 60.413-47.614 26.802-13.037 53.168-19.556 79.057-19.556 23.708 0 43.304 3.464 58.774 10.353v-14.664h17.678v169.697h-17.678v-110.606c-18.181-18.181-44.361-28.534-78.528-31.060-40.91 0-69.074 17.348-84.478 52.030s-23.1 74.231-23.1 118.698v104.299h101.258v22.729h-101.258v348.716c0 12.826 0.582 21.063 1.772 24.766 1.177 3.702 4.046 7.841 8.568 12.403 5.567 6.228 22.386 9.348 50.51 9.348v18.683h-153.79v-18.683h46.477v-395.259h0.013z\"></path>\n\t\t\t<path d=\"M3769.22 78.555h120.946v63.375c64.988-44.917 129.461-68.426 193.458-70.449 48.474 0 95.175 12.218 140.158 36.639 44.943 24.409 81.093 57.571 108.451 99.486 27.344 41.942 41.043 87.229 41.043 135.861 0 52.863-13.13 100.596-39.39 143.199s-61.656 76.227-106.176 100.887c-44.533 24.66-93.232 38.424-146.095 41.294v2.274c13.302 5.739 40.104 18.802 80.432 39.257 40.315 20.455 74.654 35.714 103.029 45.829 28.375 10.102 56.857 15.153 85.483 15.153 21.050 0 36.534-3.107 46.477-9.348l8.343 9.348c-18.366 16.488-43.198 24.739-74.509 24.739-25.599 0-51.673-3.107-78.29-9.335-26.604-6.228-49.862-13.090-69.801-20.587-19.966-7.497-51.554-19.9-94.845-37.234-80.141-37.697-146.055-72.499-197.715-104.497v93.165c0 14.624 1.626 25.136 4.906 31.549 3.292 6.386 8.899 10.697 16.806 12.879 11.437 1.375 23.232 3.028 35.357 5.051 7.576-1.349 17.507-1.997 29.803-1.997v18.683h-199.5v-18.683h55.812v-583.375c0-29.632-18.273-44.441-54.807-44.441h-9.348v-18.683h-0.026zM3890.166 182.298v364.001l10.353-16.66c70.357 50.986 132.833 76.492 187.375 76.492 40.924 0 79.123-11.028 114.652-33.069 35.542-22.042 63.719-51.66 84.584-88.855 20.878-37.195 31.311-77.179 31.311-119.914-1.177-45.763-13.434-88.59-36.732-128.483-23.311-39.905-54.331-71.877-93.060-95.929s-80.974-36.851-126.764-38.358c-68.849 0-126.089 26.921-171.72 80.776z\"></path>\n\t\t\t<path d=\"M4615.325 690.926l-106.626-305.055c-11.966-37.182-35.383-55.812-70.238-55.812h-8.343v-18.683h151.119v18.683h-44.467l105.608 298.748c35.714-85.364 59.779-160.098 72.274-224.253 2.856-12.958 4.284-24.409 4.284-34.352 0-17.996-3.504-28.931-10.485-32.712-6.981-3.795-21.116-6.281-42.312-7.431v-18.683h156.157v18.683h-44.454l-90.984 237.859c-8.74 24.435-18.049 50.404-27.899 77.933-9.851 27.516-20.68 56.010-32.474 85.483-11.808 29.473-23.536 56.354-35.238 80.697-11.715 24.329-24.395 47.429-38.028 69.299-28.468 44.798-53.868 78.436-76.188 100.887-22.32 22.478-49.307 36.428-80.988 41.796v-68.162h11.358c2.869 1.679 5.937 3.491 9.216 5.408 3.279 1.93 6.439 3.583 9.481 4.932 10.776 0 30.398-14.822 58.866-44.427 56.896-66.694 100.358-143.636 130.36-230.838z\"></path>\n\t\t\t<path d=\"M5286.656 684.857c0 17.004 3.954 27.939 11.861 32.818s23.972 7.338 48.209 7.338v18.683h-106.573v-56.83c-50.378 46.12-106.97 69.18-169.803 69.18-38.266 0-73.98-8.885-107.155-26.643-33.188-17.771-59.686-43.105-79.467-76.016-19.807-32.897-29.698-70.767-29.698-113.502 0-41.598 12.046-81.027 36.137-118.315 24.065-37.274 55.521-67.038 94.382-89.265 38.834-22.227 78.793-33.334 119.888-33.334 49.703 0 94.937 16.184 135.702 48.487v-256.542l-42.418 50.761-14.637-10.353 108.834-131.325 14.386 12.389-19.688 21.738v650.743h0.040zM5240.192 414.643c-41.598-55.045-95.043-82.574-160.349-82.574-32.818 0-63.626 8.304-92.425 24.898-28.785 16.581-51.806 39.773-69.074 69.577-17.269 29.79-25.876 63.468-25.876 101.006 1.997 37.049 12.244 70.542 30.663 100.53 18.445 29.975 42.51 53.458 72.221 70.436 29.711 17.004 61.339 25.85 94.845 26.537 58.589-2.182 108.583-24.938 149.996-68.188v-242.222z\"></path>\n\t\t\t<path d=\"M5365.435 501.779c7.735-41.743 24.938-77.96 51.607-108.596 26.67-30.623 57.795-54.001 93.377-70.079s69.96-24.118 103.109-24.118c33.162 0 63.494 6.334 91.010 18.961 27.503 12.627 50.854 29.394 70.039 50.259 19.186 20.878 32.739 42.933 40.619 66.165h-396.224c-10.935 30.808-17.401 62.542-19.45 95.202 0.674 37.869 10.948 71.507 30.808 100.887 19.873 29.38 45.538 52.229 77.021 68.558s64.155 25.030 97.978 26.035c33.175 0 63.428-6.519 90.772-19.569 27.357-13.037 50.272-29.671 68.677-49.862 18.445-20.204 32.448-41.162 42.061-62.899l14.637 7.338c-10.763 28.296-26.921 54.371-48.46 78.29-21.539 23.906-48.13 43.185-79.758 57.822s-66.443 21.976-104.484 21.976c-39.376 0-76.452-9.573-111.28-28.666-34.854-19.106-62.727-45.459-83.672-79.057s-31.417-70.41-31.417-110.46c0.026-12.006 1.018-24.713 3.028-38.186zM5433.65 412.633h319.441c-15.497-22.743-36.785-41.598-63.891-56.566s-57.147-22.967-90.151-23.986c-35.357 0-67.249 6.995-95.704 20.971-28.455 13.963-51.687 33.823-69.696 59.58z\"></path>\n\t\t</svg>\n\t)\n}\n\n  // Copyright\nfunction Copyright() {\n\treturn (\n\t\t<Typography variant=\"body\">\n\t\t\t{'Copyright \\u00A9 '}\n\t\t\t<Link color=\"inherit\" href=\"https://material-ui.com/\">\n\t\t\t\tNew Zealand AWS Interns\n\t\t\t</Link>{' '}\n\t\t\t{new Date().getFullYear()}\n\t\t\t{'.'}\n\t\t</Typography>\n\t);\n}\n\n// Capture App\nfunction Capture({ navigation }) { // Add navigation to the additional pages if requiring access between them\n  // Sets the style\n  const classes = useStyles();\n\n  // Sets the web cam, location, image source and comment\n  const webcamRef = React.useRef(null);\n  const [imgSrc, setImgSrc] = React.useState(null);\n  const [imgComment, setImgComment] = React.useState(\"\");\n  const [latitude, setLatitude] = React.useState(\"\");\n  const [longitude, setLongitude] = React.useState(\"\");\n\n  // Captures the picture and provides a base64 string of it\n  const capture = React.useCallback(\n    () => {\n      getUser();\n      const imageSrc = webcamRef.current.getScreenshot();\n      setImgSrc(imageSrc);\n      fetch(imageSrc).then(res => res.blob())\n        .then(blob => {\n          const file2 = new File([blob], \"test.jpg\", { type: \"image/jpg\" });\n          console.log(file2);\n          EXIF.getData(file2, function() {\n            var exifData = EXIF.pretty(this);\n            let exifLong = EXIF.getTag(this, \"GPSLongitude\");\n            let exifLat = EXIF.getTag(this, \"GPSLatitude\");\n            var exifLat_final;\n            if (exifLat) {\n              var exifLatNum1 =  exifLat[0].numerator / exifLat[0].denominator;\n              var exifLatNum2 = exifLat[1].numerator / exifLat[1].denominator;\n              var exifLatNum3 = exifLat[2].numerator / exifLat[2].denominator;\n              exifLat_final = exifLatNum1 + exifLatNum2/60 + exifLatNum3/3600;\n              exifLat_final = exifLat_final.toString();\n              setLatitude(exifLat_final);\n            }\n            var exifLong_final;\n            if (exifLong) {\n              var exifLongNum1 =  exifLong[0].numerator / exifLong[0].denominator;\n              var exifLongNum2 = exifLong[1].numerator / exifLong[1].denominator;\n              var exifLongNum3 = exifLong[2].numerator / exifLong[2].denominator;\n              exifLong_final = exifLongNum1 + exifLongNum2/60 + exifLongNum3/3600;\n              exifLong_final = exifLong_final.toString();\n              setLongitude(exifLong_final);\n            }\n            if (exifLong && exifLat) {\n              geocodeLatLng(exifLat_final, exifLong_final);\n            }\n            console.log(latitude, longitude);\n            setLatLongByCurrentPosition(exifLat, exifLong);\n          });\n        });\n    },\n    [webcamRef, setImgSrc]\n  );\n\n  // Sets the latitude and the longtitude\n  function setLatLongByCurrentPosition(lat, long){\n    if (lat || long){\n      return;\n    }\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getPosition);\n    }\n    function getPosition(position) {\n      console.log(position.coords.latitude, position.coords.longitude);\n      var lat_var = position.coords.latitude + \"\";\n      var long_var = position.coords.longitude + \"\";\n      setLongitude(long_var)\n      setLatitude(lat_var)\n      geocodeLatLng(lat_var, long_var);\n      alert(\"Your photo has been captured.\");\n    }\n  }\n\n  const [city, setCity] = React.useState(\"\");\n  const [suburb, setSuburb] = React.useState(\"\");\n  const [country, setCountry] = React.useState(\"\");\n\n  // Gets a location based on the lat and long\n  function geocodeLatLng(lat, long) {\n    var API_KEY = \"HedZ30NsSEanvewLY-XkRQ43WOCSSBXqdhr1yvsuPz0\"; // To register a new API key go to developer.here.com and register a javascript api key\n    return new Promise((resolve) => {\n      const url = `https://reverse.geocoder.ls.hereapi.com/6.2/reversegeocode.json?apiKey=${API_KEY}&mode=retrieveAddresses&prox=${lat},${long}`\n      fetch(url)\n        .then(res => res.json())\n        .then((resJson) => {\n          // Getting the address of the location\n          if (resJson\n            && resJson.Response\n            && resJson.Response.View\n            && resJson.Response.View[0]\n            && resJson.Response.View[0].Result\n            && resJson.Response.View[0].Result[0]) {\n            var address = resJson.Response.View[0].Result[0].Location.Address;\n            setCity(address.City);\n            setCountry(address.Country);\n            setSuburb(address.District);\n            console.log(resJson.Response.View[0].Result[0].Location.Address)\n            resolve(resJson.Response.View[0].Result[0].Location.Address.Label)\n          } else {\n            resolve()\n          }\n        })\n        .catch((e) => {\n          console.log('Error in getting the address from the coordinates', e)\n          resolve()\n        })\n    })\n  }\n\n\n  const [errorMsg, setErrorMsg] = React.useState(null);\n\n  // Signs out the used\n  const signOut = async () => {\n    try {\n      await Auth.signOut({ global: true });\n    } catch (error) {\n      console.log('Error signing out: ', error);\n    }\n  };\n\n  // Gets the user info of the current user\n  const [email, setEmail] = React.useState(\"\")\n  const getUser = async () => {\n    try {\n      let userInfo = await Auth.currentUserInfo()\n      setEmail(userInfo.attributes.email);\n    } catch (error) {\n      console.log('Error getting user data: ', error);\n    }\n  };\n\n  // Post for sending data to s3 and dynamo db\n  const axios = require(\"axios\");\n  const apiMethod = () => {\n    var imgSrc_API = imgSrc;\n    var imgComment_API = imgComment;\n    let date = new Date();\n    console.log(imgSrc);\n    console.log(imgComment);\n    console.log(latitude);\n    console.log(longitude);\n    console.log(email)\n    console.log(country);\n    console.log(city);\n    console.log(suburb);\n    axios.post(\"https://z9w0rsou5h.execute-api.ap-southeast-2.amazonaws.com/dev\", {\n    comment: imgComment_API,\n    image: imgSrc_API,\n    latitude: latitude,\n    longitude: longitude,\n    timestamp: date.toISOString(),\n    email: email,\n    city: city,\n    country: country,\n    suburb: suburb\n    })\n  .then(response => {\n    alert(\"Your photo and comment has been uploaded.\");\n    console.log(response);\n   })\n  .catch(error => {\n    console.log(error);\n  })\n};\n\n  // Updates the comment variable\n  const commentHandler = (event) => {\n    setImgComment(event.target.value);\n  }\n\n  // Renders the app\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      {/* Header */}\n      <AppBar position=\"static\">\n        <Toolbar className={classes.navBar}>\n          <Logo />\n          <Button color=\"inherit\" onClick={() => signOut()}>Sign out</Button>\n        </Toolbar>\n      </AppBar>\n\n      <main>\n        {/* Setting up the camera and comment box to upload */}\n        <div className={classes.heroContent}>\n          <Container maxWidth=\"lg\">\n          <Card className={classes.card}>\n          <Paper className={classes.paper} elevation={5} variant=\"outlined\">\n            <Webcam\n              className={classes.video}\n              audio={false}\n              ref={webcamRef}\n              screenshotFormat=\"image/jpeg\"\n            />\n          </Paper>\n          <CardContent className={classes.cardContent}>\n            <TextField fullWidth margin=\"normal\" variant=\"filled\" InputLabelProps={{ shrink:true,}}\n              placeholder=\"Enter a comment here...\" onChange={commentHandler}/>\n          </CardContent>\n          <CardActions>\n          <div className={classes.heroButtons}>\n            <Grid container spacing={2} justify=\"center\">\n              <Grid item>\n                <Button variant=\"contained\" onClick={() => capture()}>\n                  Capture Photo\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button variant=\"outlined\" onClick={() => apiMethod()}\n                disabled={!imgSrc}>\n                  Upload\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button variant=\"contained\" href='/Home'>\n                  Home\n                </Button>\n              </Grid>\n            </Grid>\n          </div>\n          </CardActions>\n          </Card>\n          </Container>\n        </div>\n      </main>\n\n      <footer className={classes.footer} align=\"center\">\n        <Typography variant=\"h5\" gutterBottom>\n          CitizenWatch Application\n        </Typography>\n        <Typography variant=\"body\" component=\"p\" >\n          Report issues within your local area.\n        </Typography>\n        <Copyright />\n      </footer>\n    </React.Fragment>\n  );\n}\n\nexport default withAuthenticator(Capture);\n"]},"metadata":{},"sourceType":"module"}